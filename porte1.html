<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Visionneuse Livre</title>

<style>
    body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: url("https://blog-eyc.pages.dev/vid/fire/fire.gif") center/cover no-repeat;
        font-family: Arial, sans-serif;
    }

    /* Bouton retour */
    .back-button {
        position: absolute;
        top: 20px;
        left: 20px;
        font-size: 40px;
        color: red;
        cursor: pointer;
        z-index: 10;
        user-select: none;
    }

    /* Gif cliquable */
    .book-gif {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        width: 230px; /* taille GRANDE */
        cursor: pointer;
        z-index: 5;
    }

    /* Boite de pensée */
    .thought-box {
        position: absolute;
        bottom: 150px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(255, 150, 200, 0.8);
        padding: 20px 25px;
        border-radius: 20px;
        width: 60%;
        font-size: 22px;
        text-align: center;
        animation: fadeIn 0.7s ease;
        z-index: 20;
    }

    /* Visionneuse */
    .viewer {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 65%;
        height: 65%;
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 50;
    }

    /* Fond opaque + image */
    .viewer-content {
        position: relative;
        width: 100%;
        height: 100%;
        background-image: url("https://img.itch.zone/aW1hZ2UvMjkwMzEwMC8xNzM2NzE1My5wbmc=/original/dK58Rm.png");
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center;
        display: flex;
        align-items: center;
        padding: 40px;
    }

    /* IMAGE dans la visionneuse — déplacée à droite & agrandie */
    .viewer-image {
        width: 48%;  
        margin-left: 90px; /* plus à droite */
        margin-top: 10px;
    }

    /* TEXTE — plus large & plus à droite */
    .viewer-text {
        width: 45%;
        font-size: 26px;
        color: white;
        margin-left: 60px;
        white-space: pre-line;
        text-shadow: 2px 2px 4px black;
    }

    /* Flèche suivante */
    .next-arrow {
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 55px;
        color: red;
        cursor: pointer;
        user-select: none;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translate(-50%, -40%); }
        to { opacity: 1; transform: translate(-50%, -50%); }
    }
</style>
</head>

<body>

<!-- Bouton retour -->
<div class="back-button" onclick="location.href='zone2_1.html'">←</div>

<!-- Gif cliquable -->
<img src="https://media.tenor.com/wgmpvhHPSkkAAAAj/book-trophy-pixel-art.gif" class="book-gif" onclick="openViewer()">

<!-- Boite pensée d’arrivée -->
<div id="introThought" class="thought-box">Oh tient un livre, dommage que je soit illettré !</div>

<!-- Visionneuse d’images -->
<div class="viewer" id="viewer" onclick="clickOutside(event)">
    <div class="viewer-content" id="viewerBox">
        <img id="viewerImage" class="viewer-image">
        <div id="viewerText" class="viewer-text"></div>
        <div class="next-arrow" onclick="nextImage(event)">→</div>
    </div>
</div>

<script>
    let images = [
        { src: "https://i.imgur.com/qmbKHzv.png", text: "On s'en fou\nVraiment c'est nul !" },
        { src: "https://i.imgur.com/xzZ06bS.png", text: "Mais quand même on sais pas\nEt ça reste triste." }
    ];

    let currentIndex = 0;

    function openViewer() {
        document.getElementById("introThought").style.display = "none";

        let box = document.createElement("div");
        box.className = "thought-box";
        box.textContent = "Espérons qu'il y ai des images !";
        document.body.appendChild(box);

        setTimeout(() => box.remove(), 1800);

        updateViewer();
        document.getElementById("viewer").style.display = "flex";
    }

    function updateViewer() {
        document.getElementById("viewerImage").src = images[currentIndex].src;
        document.getElementById("viewerText").textContent = images[currentIndex].text;
    }

    function nextImage(event) {
        event.stopPropagation();
        currentIndex = (currentIndex + 1) % images.length;
        updateViewer();
    }

    function clickOutside(event) {
        let viewerBox = document.getElementById("viewerBox");
        if (!viewerBox.contains(event.target)) {
            document.getElementById("viewer").style.display = "none";
        }
    }
</script>

</body>
</html>
